<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core">

	<h:form id="frm" enctype="multipart/form-data">
		<div id="contenido_formulario">
			<div id="page_flow">Gestion / Gestionar Familia</div>
			<div id="titulo_formulario">Gestionar Familia</div>
			<div id="contenido">
			<p:messages id="messages" autoUpdate="true" closable="true" />

				<!-- PROGRES INICIO -->
				<p:blockUI block="frm:dt" widgetVar="wblockui" />
				<p:progressBar widgetVar="barraProgreso" ajax="true" interval="1000"
					id="barraProgreso" value="#{progressBar.contador}"
					labelTemplate="{value}%" styleClass="animated" global="false">
					<p:ajax event="complete" listener="#{progressBar.onComplete}"
						update=":frm:barraProgreso" />
				</p:progressBar>
				<!-- PROGRES FIN-->


				<p:panelGrid columns="2">
					<p:fileUpload sizeLimit="1000000" auto="true" label="Subir Excel"
						cancelLabel="cancel" uploadLabel="update"
						fileUploadListener="#{familiaMb.handleFileUpload}" mode="advanced"
						allowTypes="/(\.|\/)(xlsx|xls)$/"
						update=":frm:dt :frm:barraProgreso" id="uploadFile"
						onstart="PF('barraProgreso').start();PF('wblockui').show();"
						oncomplete="PF('wblockui').hide();" />
				</p:panelGrid>


				<p:dataTable id="dt" var="item" widgetVar="wdt"
					value="#{familiaMb.beanList}"
					emptyMessage="#{constantesUtil.LIST_EMPTY}" resizableColumns="true"
					paginator="true" rows="#{constantesUtil.LIST_SIZE}"
					paginatorPosition="top"
					paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} ">

					<p:column headerText="CIF (ID Excel)"
						style="width:10%; align:center;">
						<h:outputText value="#{item.ctfCif}" />
					</p:column>

					<p:column headerText="CIP" style="width:15%; align:center;">
						<h:outputText value="#{item.cpersonaNroAdm}" />
					</p:column>
					<p:column headerText="Causal de Renovaciòn"
						style="width:15%; align:center;">
						<h:outputText value="#{item.ctfCauRenovac}" />
					</p:column>
					<p:column headerText="Nombres" style="width:15%; align:center;">
						<h:outputText value="#{item.vtfApeNom}" />
					</p:column>


					<p:column headerText="Fecha Nacimiento"
						style="width:15%; align:center;">
						<h:outputText value="#{item.dtfFecNac}" />
					</p:column>
					<p:column headerText="Fecha Renovacion"
						style="width:15%; align:center;">
						<h:outputText value="#{item.ctfFecRenovac}" />
					</p:column>

					<p:column headerText="Sexo" style="width:15%; align:center;">
						<h:outputText
							value="#{item.ctfSexo eq '1'? 'Masculino':'Femenino'}" />
					</p:column>

					<p:column headerText="Causa Renovación" rendered="false"
						style="width:10%; align:center;">
						<h:outputText value="#{item.ctfCauRenovac}"  />
					</p:column>

				</p:dataTable>

			</div>
		</div>



	</h:form>


	

</ui:composition>
