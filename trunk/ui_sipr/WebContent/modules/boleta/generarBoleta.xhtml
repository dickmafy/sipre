<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core">

<h:form id="frm">
   <div id="contenido_formulario">
		<div id="page_flow">Boleta / Genrar Boleta </div>
		<div id="titulo_formulario">Generar Boleta</div>
		<div id="contenido">
		    <p:messages id="messages" autoUpdate="true" closable="true" />
			   
			    <h:panelGrid columns="5" cellpadding="5">
			    <p:outputLabel for="txtNroAdm" value="Personal :" />
			     <p:selectOneMenu value="#{boletaMb.nroAdm}" effect="drop" filter="true" filterMatchMode="startsWith" id="txtNroAdm" required="true" requiredMessage="Debe seleccionar una opciÃ³n">  
                   <f:selectItem itemLabel="Seleccione uno" itemValue="" />  
                 <f:selectItems value="#{boletaMb.lstNames}" />  
                </p:selectOneMenu>  
                 <p:outputLabel for="txtFecha" value="Fecha proceso :" />
                <p:calendar id="txtFecha" value="#{boletaMb.fechaProceso}" locale="es" navigator="true" pattern="dd/MM/yyyy" required="true" requiredMessage="Debe seleccionar una fecha de proceso"/>

                
                 <p:commandButton icon="ui-icon-arrowthickstop-1-s" 
                                         value="Generar" styleClass="boton_botonera"
                                         update="dlgviewpdf" 
                                         action="#{boletaMb.generarRpt}"  >
               <!--   <p:fileDownload value="#{boletaMb.file}"  contentDisposition="inline" />   -->
                </p:commandButton> 
                
                 <h:outputText value="Envio de correo: " />
                 <p:selectBooleanCheckbox value="#{boletaMb.seEnvia}" />
 
       
			    </h:panelGrid>
	</div>
   </div>
   <div>

   <p:dialog widgetVar="wvviewpdf"  header="Boleta generada" modal="true" width="80%" height="600px"
                  id="dlgviewpdf" showEffect="clip" hideEffect="slide" appendTo="@(body)" >

            <p:media value="../reporte_file/#{boletaMb.nameBoleta}" width="100%" height="100%" > </p:media>  


        </p:dialog>
   </div>
   
</h:form>
</ui:composition>